<div class="row">
    <div class="col-md-12">
        <div class="md-card animated fadeInUp">
            <div class="md-card__title">
                <h2 class="md-card__title-text">
                        {{extenCtrl.frmData.name_page_title}}
                </h2>
            </div>
            <div class="md-card__supporting-text md-overflow">
                <form name="formAA">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="md-select md-textfield is-dirty">
                                <select class="md-select__input"
                                ng-class="{ 'is-dirty' : extenCtrl.scope.frmData.listaLlamadas.request != null }" name="nomExtension" id="nomExtension" ng-model="extenCtrl.scope.frmData.listaLlamadas.request" ng-options="listaAgente as listaAgente.nombre for listaAgente in extenCtrl.listaAgenteLContest "
                                    ng-change="extenCtrl.funcionQueunameRel(extenCtrl.scope.frmData.listaLlamadas.request)">
                                   
                                    <option value="">Todos</option>
                                </select>
                                <label for="nomExtension" class="md-select__label">Extension</label>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="md-select md-textfield is-dirty">
                                <select class="md-textfield__input" name="nomTipo" id="idTipo" ng-model="extenCtrl.frmData.listaLlamadas.request.tipo" ng-options="ls.value as ls.name for ls in extenCtrl.lsTipo">
                                    <option ng-show="false" selected="true">{{extenCtrl.frmData.listaLlamadas.request.tipo}}</option>
                                </select>
                                <label for="" class="md-select__label">Tipo</label>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="md-textfield" >
                                <input type="text" name="origen" id="origen" class="md-textfield__input" ng-model="extenCtrl.frmData.listaLlamadas.request.origen">
                                <label class="md-textfield__label">Origen:</label>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="md-textfield" >
                                <input type="text" name="destino" id="destino" class="md-textfield__input" ng-model="extenCtrl.frmData.listaLlamadas.request.destino">
                                <label class="md-textfield__label">Destino:</label>
                            </div>        
                        </div>
                        <div class="col-md-4">
                                <datepicker date-format="dd-MM-yyyy" selector="calendar-inicio-textfield" button-prev="<i class='mdi mdi-arrow-left'></i>" button-next="<i class='mdi mdi-arrow-right'></i>">
                            <div class="md-textfield has-placeholder">
                                
                                <input input-date-validator id="feIni" name="feIni" type="text" maxlength="10" ng-model="extenCtrl.dt" uib-datepicker-popup="dd-MM-yyyy"
                                is-open="extenCtrl.opened" datepicker-options="extenCtrl.dateOptions" class="md-textfield__input calendar-inicio-textfield"
                                close-text="Cerrar" current-text="Hoy" clear-text="Limpiar" ng-required="extenCtrl.frmData.listaLlamadas.request.feIni==null"
                                ng-change="extenCtrl.dt ; extenCtrl.validateDateini()" />
                                    <button class="md-button-input"  >
                                            <i class="mdi mdi-calendar"></i>
                                    </button>
                                    <label class="md-textfield__label">Desde fecha:</label>
                            </div>
                            </datepicker>
                        </div>
                        <div class="col-md-4">
                            <datepicker date-format="dd-MM-yyyy" selector="calendar-fin-textfield" button-prev="<i class='mdi mdi-arrow-left'></i>" button-next="<i class='mdi mdi-arrow-right'></i>">
                                <div class="md-textfield has-placeholder">
                                    <input input-date-validator id="feFin" name="feFin" current-text="Hoy" clear-text="Limpiar" close-text="Cerrar" type="text"
                                    maxlength="10" class="md-textfield__input calendar-fin-textfield" uib-datepicker-popup="dd-MM-yyyy" ng-model="extenCtrl.dt2"
                                    is-open="extenCtrl.opened2" datepicker-options="extenCtrl.dateOptions2" ng-required="true"
                                    close-text="Close" ng-change="extenCtrl.dt2;extenCtrl.validateDateFin()" />
                                    <button class="md-button-input"  >
                                            <i class="mdi mdi-calendar"></i>
                                    </button>
                                    <label class="md-textfield__label">Hasta fecha:</label>
                                </div>
                            </datepicker>
                        </div>
                        <div class="col-md-4">
                            <div class="md-textfield has-placeholder" >
                                <input id="hoIni" name="hoIni" type="text" ng-model="extenCtrl.horaInicio" class="md-textfield__input" ng-required="true"
                                            ng-change="extenCtrl.validaHoraInicio()">
                                <button class="md-button-input">
                                    <i class="mdi mdi-clock"></i>
                                </button>
                                <label class="md-textfield__label">Hora Inicio:</label>
                            </div>
                                <script type="text/javascript">
                                    $('#hoIni').timepicker({
                                        defaultTime: 'default',
                                        showMeridian: false,
                                        timeFormat: 'HH:MM'
                                    });
                                </script>
                        </div>
                        <div class="col-md-4">
                            <div class="md-textfield has-placeholder" >
                                <input id="hoFin" name="hoFin" type="text" ng-model="extenCtrl.horaFin" class="md-textfield__input" ng-required="extenCtrl.frmData.listaLlamadas.request.pHoraf!=null"
                                ng-change="extenCtrl.validaHoraFinal()">
                                <button class="md-button-input">
                                    <i class="mdi mdi-clock"></i>
                                </button>
                                <label class="md-textfield__label">Hora Fin:</label>
                            </div>
                                <script type="text/javascript">
                                    $('#hoFin').timepicker({
                                        defaultTime: 'default',
                                        showMeridian: false,
                                        timeFormat: 'HH:MM'
                                    });
                                </script>
                        </div>
                        <div class="col-md-12">
                            <button class="md-button " ng-click="extenCtrl.listarGrabacionesAgente()">
                                <label>Buscar</label>
                                <i class="mdi mdi-magnify"></i>
                            </button>
                        </div>
        
                    </div>

                </form>
            </div>
            <div ng-show="extenCtrl.verT" class="table-responsive">
                    <table class="table md-table">
                        <thead>
                            <tr>
                                <th class="text-center">#</th>
                                <th class="text-center">Escuchar y Descargar</th>
                                <th class="text-center">Tipo</th>
                                <th class="text-center">Origen</th>
                                <th class="text-center">Destino</th>
                                <th class="text-center">Fecha</th>
                                <th class="text-center">Hora</th>
                                <th class="text-center">Duraci√≥n</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="row in extenCtrl.listagrabacionesextensiones">
                                <td class="text-center">{{$index + 1}}</td>
                                <td class="text-center">
                                <!-- Etiqueta del audio del Media Server-->
                                    <audio  id="({{$index + 1}}-1)" ng-value="extenCtrl.setSrc(({{$index + 1}}-1))" controls ></audio>
                                
                                    
                                </td>
                                <td class="text-center">{{row.tipo}}</td>
                                <td class="text-center">{{row.origen}}</td>
                                <td class="text-center">{{row.destino}}</td>
                                <td class="text-center">{{row.fecha}}</td>
                                <td class="text-center">{{row.hora}}</td>
                                <td class="text-center">{{row.duracion}} seg</td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr>
                                <td class="text-center" colspan="10">
                                </td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
        </div>
    </div>
</div>

<!--<div class="widgets cc-reporte-llamada">
    <div class="row">
        <form class="row-fluid" name="formGA">
            <div class="col-md-12">
                <div class="panel with-scroll animated zoomIn" zoom-in>
                    <div class="panel-heading clearfix">
                        <h3 class="panel-title">{{extenCtrl.frmData.name_page_title}}</h3>
                    </div>
                    <div class="panel-body">
                        <div class="add-row-editable-table">
                            <div class="row">
                                <div class="col-md-4 form-group">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label>Extensi√≥n:</label>
                                        </div>
                                        <div class="col-md-8">

                                            <select class="form-control" ng-model="extenCtrl.scope.frmData.listaLlamadas.request" ng-options="listaAgente as listaAgente.nombre for listaAgente in extenCtrl.listaAgenteLContest "
                                                ng-change="extenCtrl.funcionQueunameRel(extenCtrl.scope.frmData.listaLlamadas.request)">
                                       <option value="">Todos</option>
                                                    </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 form-group">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label>Tipo:</label>
                                        </div>
                                        <div class="col-md-8">
                                            <select name="" id="idTipo" class="form-control" ng-model="extenCtrl.frmData.listaLlamadas.request.tipo">
                                                <option value="">Todos</option>
                                                <option value="EXTEN_IN">Extensi√≥n IN</option>
                                                <option value="EXTEN_OUT">Extensi√≥n OUT</option>
                                                                                           
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 form-group">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label>Origen:</label>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="input-group">
                                                <input type="text" name="origen" id="origen" class="form-control" ng-model="extenCtrl.frmData.listaLlamadas.request.origen">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 form-group">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label>Destino:</label>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="input-group">
                                                <input type="text" name="destino" id="destino" class="form-control" ng-model="extenCtrl.frmData.listaLlamadas.request.destino">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 form-group">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label for="feIni">Desde fecha:</label>
                                        </div>
                                        <div class="col-md-8" ng-class="{'has-error' : formLlC.pFeIni.$invalid || formLlC.pFeIni.$touched && formLlC.pFeIni.$error.required}">
                                            <div class="input-group" ng-class="{ 'has-error' : formGA.feIni.$invalid || formGA.feIni.$touched && formGA.feIni.$error.required }">
                                                <input input-date-validator id="feIni" name="feIni" type="text" maxlength="10" ng-model="extenCtrl.dt" uib-datepicker-popup="dd-MM-yyyy"
                                                    is-open="extenCtrl.opened" datepicker-options="extenCtrl.dateOptions" class="form-control"
                                                    close-text="Cerrar" current-text="Hoy" clear-text="Limpiar" ng-required="extenCtrl.frmData.listaLlamadas.request.feIni==null"
                                                    ng-change="extenCtrl.dt ; extenCtrl.validateDateini()" />
                                                <span class="input-group-addon" ng-click="extenCtrl.open()">
                                                 <i class="glyphicon glyphicon-calendar"  ></i>
                                                 </span>
                                            </div>
                                            <small class="text-danger" ng-show="formGA.feIni.$invalid">*formato incorrecto</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 form-group">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label>Hasta fecha:</label>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="input-group" ng-class="{ 'has-error' : formGA.feFin.$invalid || formGA.feFin.$touched && formGA.feFin.$error.required }">
                                                <input input-date-validator id="feFin" name="feFin" current-text="Hoy" clear-text="Limpiar" close-text="Cerrar" type="text"
                                                    maxlength="10" class="form-control" uib-datepicker-popup="dd-MM-yyyy" ng-model="extenCtrl.dt2"
                                                    is-open="extenCtrl.opened2" datepicker-options="extenCtrl.dateOptions2" ng-required="true"
                                                    close-text="Close" ng-change="extenCtrl.dt2;extenCtrl.validateDateFin()"
                                                />
                                                <span class="input-group-addon" ng-click="extenCtrl.open2()">
                                             <i class="glyphicon glyphicon-calendar" ></i>
                                            </span>
                                            </div>
                                            <small class="text-danger" ng-show="formGA.feFin.$invalid">*formato incorrecto</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 form-group">
                                    <div class="form-group">
                                        <div class="row">
                                            <div class="col-md-4">
                                                <label for="">Hora Inicio:</label>
                                            </div>
                                            <div class="col-md-8">
                                                <div class="input-group bootstrap-timepicker timepicker" ng-class="{ 'has-error' : formGA.hoIni.$invalid && formGA.hoIni.$touched || formGA.hoIni.$error.required}">
                                                    <input id="hoIni" name="hoIni" type="text" ng-model="extenCtrl.horaInicio" class="form-control input-small" ng-required="true"
                                                        ng-change="extenCtrl.validaHoraInicio()">
                                                    <span class="input-group-addon"><i class="glyphicon glyphicon-time"></i></span>
                                                </div>
                                                <small class="text-danger" ng-show="formGA.hoIni.$error.required">*seleccione hora</small>
                                                <script type="text/javascript">
                                                    $('#hoIni').timepicker({
                                                        defaultTime: 'default',
                                                        showMeridian: false,
                                                        timeFormat: 'HH:MM'
                                                    });
                                                </script>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 form-group">
                                    <div class="form-group">
                                        <div class="row">
                                            <div class="col-md-4">
                                                <label for="">Hora Fin:</label>
                                            </div>
                                            <div class="col-md-8">
                                                <div class="input-group bootstrap-timepicker timepicker" ng-class="{ 'has-error' : formGA.hoFin.$invalid }">
                                                    <input id="hoFin" name="hoFin" type="text" ng-model="extenCtrl.horaFin" class="form-control input-small" ng-required="extenCtrl.frmData.listaLlamadas.request.pHoraf!=null"
                                                        ng-change="extenCtrl.validaHoraFinal()">
                                                    <span class="input-group-addon"><i class="glyphicon glyphicon-time"></i></span>
                                                </div>
                                                <small class="text-danger" ng-show="formGA.hoFin.$error.required">*seleccione hora</small>
                                                <script type="text/javascript">
                                                    $('#hoFin').timepicker({
                                                        defaultTime: '23:45',
                                                        showMeridian: false,
                                                        timeFormat: 'HH:MM'
                                                    });
                                                </script>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12 form-group">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <button class="btn btn-primary" ng-click="extenCtrl.listarGrabacionesAgente()">
                                                <i class="fa fa-search"></i>Buscar
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="panel-body">
                                <div class="row">
                                    <div class="table-responsive">
                                        <table class="table table-striped table-bordered table-hover table-checkable order-column">
                                            <thead>
                                                <tr>
                                                    <th class="cc-center">#</th>
                                                    <th class="cc-center">Escuchar y Descargar</th>
                                                    <th class="cc-center">Tipo</th>
                                                    <th class="cc-center">Origen</th>
                                                    <th class="cc-center">Destino</th>
                                                    <th class="cc-center">Fecha</th>
                                                    <th class="cc-center">Hora</th>
                                                    <th class="cc-center">Duraci√≥n</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="row in extenCtrl.listagrabacionesextensiones">
                                                    <td class="cc-center">{{$index + 1}}</td>
                                                    <td class="cc-center">
                                                     Etiqueta del audio del Media Server
                                                        <audio  id="({{$index + 1}}-1)" ng-value="extenCtrl.setSrc(({{$index + 1}}-1))" controls ></audio>
                                                    
                                                        
                                                    </td>
                                                    <td class="cc-center">{{row.tipo}}</td>
                                                    <td class="cc-center">{{row.origen}}</td>
                                                    <td class="cc-center">{{row.destino}}</td>
                                                    <td class="cc-center">{{row.fecha}}</td>
                                                    <td class="cc-center">{{row.hora}}</td>
                                                    <td class="cc-center">{{row.duracion}} seg</td>
                                                </tr>
                                            </tbody>
                                            <tfoot>
                                                <tr>
                                                    <td class="text-center" colspan="10">
                                                    </td>
                                                </tr>
                                            </tfoot>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>-->